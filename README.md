# Урок 8. Типы архитектур прикладных приложений: MVC, MVP, MVVM

## Сервис бронирования столика в ресторане
Разработать экранные формы интерфейса.
Разработать полную ERD домена; блок-схему.



*Model*

Работа с данными: запрос, сохранение или изменение данных в БД или файлах.

Реализует методы, вызываемые Презентером:
* loadTables -- получение списка всех столиков со статусом (свободно, забронировано);
* bookTable -- бронирование столика;
* changeTable -- поменять бронь столика.
* и др.

Presenter вызывает эти методы и он не знает как эти методы реализованы в Model.

*View*

Отвечает за отображение данных на экране и за обработку действий пользователя.

Реализует методы, вызываемые Презентером:
* showTables -- отображение списка столиков;
* retrieveUserInfo -- сбор данных о пользователе (имя, номер телефона, время, количество персон).
* и др.

Во View не должно быть никакой логики. View это способ вывода данных (UI) и взаимодействия (UХ) с пользователем.

Действия пользователя передаются в Presenter. По нажатию кнопки "подтверждения заказа",
Viwe сразу сообщает об этом Presenter.
Presenter принимает это и действует по своему алгоритму.

*Presenter*

Является связующим звеном между View и Model, которые не должны общаться напрямую.

От View Presenter получает данные о том, какие кнопки были нажаты пользователем,
и решает, как отреагировать на эти нажатия.
Если надо что-то отобразить, то Presenter сообщает об этом View.
А если нужно сохранить/получить данные, Presenter использует Model.

*Шаги взаимодействия View, Presenter и Model:*

1. Presenter просит Model дать ему данные из БД о занятости столиков.
2. Presenter просит View показать данные о столиках.
3. Пользователь выбирает подходящий столик и вводит свои данные в поля ввода.
Сам процесс ввода не обрабатывается и ничего не происходит.
4. Пользователь жмёт кнопку "подтверждение заказа".
5. View сообщает Presenter о том, что была нажата кнопка "подтверждение заказа".
6. Presenter просит View дать ему данные, введённые пользователем в поля ввода.
7. Presenter проверяет эти данные на корректность.
8. Если данные некорректны, Presenter просит представление отобразить сообщение
об этом.
9. Если данные корректны, Presenter просит представление показать индикатор
прогресса и просит Model добавить данные в базу данных.
10. Model выполняет вставку данных и сообщает Presenter, что вставка завершена.
11. Presenter говорит представлению убрать индикатор прогресса.
12. Presenter запрашивает данные о подтверждении бронирования у Model.
13. Model возвращает данные Presenter.
14. Presenter просит View показать новые данные.
15. Presenter управляет всем происходящим. Он указывает View и Model что делать
и как.

UI:

![Снимок экрана от 2024-09-17 19-54-50](https://github.com/user-attachments/assets/fe91b4a7-77e4-4846-ad5c-79792307c682)

ERD домена:

![Снимок экрана от 2024-09-17 19-36-04](https://github.com/user-attachments/assets/b8e1df0d-381d-4ed8-9d70-ac3a96cb1417)

UML-диаграмма:

![tablebooking drawio](https://github.com/user-attachments/assets/e0a77b45-cf58-43e8-98a8-975ce368f4de)

